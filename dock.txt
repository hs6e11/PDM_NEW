FROM python:3.11-slim
COPY /app/requirements.txt /app/
RUN pip install --upgrade pip
RUN apt update && apt install gcc python3-dev git -y --no-install-recommends
RUN pip install -r /app/requirements.txt 
COPY ./artifacts /artifacts/
COPY ./src /src/
COPY ./config /config/
COPY ./app /app

EXPOSE 8000

CMD ["uvicorn", "app.api:app", "--host", "127.0.0.1", "--port", "8000"]

# EXPOSE 8000:8000

# CMD ["uvicorn","app.api:app","--host","0.0.0.0","--reload"]